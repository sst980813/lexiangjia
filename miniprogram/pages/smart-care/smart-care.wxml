<!--smart-care.wxml-->
<view class="page-container">
  <navigation-bar title="æ™ºæ…§å…»è€" color="#8B5A3C" background="#F7E6D3"></navigation-bar>
  
  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <view class="main-content {{safeAreaClass}}">
    <scroll-view class="scroll-container" scroll-y type="list">
      
      <!-- æ™ºæ…§å…»è€ä»‹ç» -->
      <view class="intro-section">
        <view class="intro-header">
          <text class="intro-title">æ™ºæ…§å…»è€ ä¹äº«ç”Ÿæ´»</text>
          <text class="intro-subtitle">ä¸°å¯Œå¤šå½©çš„æ´»åŠ¨ï¼Œè®©æ‚¨çš„æ™šå¹´ç”Ÿæ´»æ›´åŠ ç²¾å½©</text>
        </view>
        <view class="intro-stats">
          <view class="stat-item">
            <text class="stat-number">{{totalActivities}}</text>
            <text class="stat-label">ç²¾å½©æ´»åŠ¨</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{activeMembers}}</text>
            <text class="stat-label">æ´»è·ƒä¼šå‘˜</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{satisfactionRate}}%</text>
            <text class="stat-label">æ»¡æ„åº¦</text>
          </view>
        </view>
      </view>

      <!-- æ´»åŠ¨åˆ†ç±» -->
      <view class="category-section">
        <view class="section-header">
          <text class="section-title">æ´»åŠ¨åˆ†ç±»</text>
        </view>
        <view class="category-tabs">
          <view class="category-tab {{currentCategory === 'all' ? 'active' : ''}}" 
                bindtap="onCategoryChange" data-category="all">
            å…¨éƒ¨
          </view>
          <view class="category-tab {{currentCategory === 'culture' ? 'active' : ''}}" 
                bindtap="onCategoryChange" data-category="culture">
            æ–‡åŒ–
          </view>
          <view class="category-tab {{currentCategory === 'health' ? 'active' : ''}}" 
                bindtap="onCategoryChange" data-category="health">
            å…»ç”Ÿ
          </view>
          <view class="category-tab {{currentCategory === 'art' ? 'active' : ''}}" 
                bindtap="onCategoryChange" data-category="art">
            è‰ºæœ¯
          </view>
          <view class="category-tab {{currentCategory === 'social' ? 'active' : ''}}" 
                bindtap="onCategoryChange" data-category="social">
            ç¤¾äº¤
          </view>
        </view>
      </view>

      <!-- æ´»åŠ¨åˆ—è¡¨ -->
      <view class="activities-section">
        <view class="section-header">
          <text class="section-title">ç²¾å½©æ´»åŠ¨</text>
          <text class="section-count">å…±{{filteredActivities.length}}ä¸ªæ´»åŠ¨</text>
        </view>
        
        <view class="activities-list">
          <view class="activity-item" 
                wx:for="{{filteredActivities}}" 
                wx:key="id" 
                bindtap="onActivityTap" 
                data-activity="{{item}}">
            <image class="activity-image" src="{{item.image}}" mode="aspectFill"></image>
            <view class="activity-info">
              <view class="activity-header">
                <text class="activity-title">{{item.title}}</text>
                <view class="activity-category">
                  <text class="category-tag">{{item.categoryName}}</text>
                </view>
              </view>
              <text class="activity-description">{{item.description}}</text>
              <view class="activity-meta">
                <view class="meta-item">
                  <text class="meta-icon">ğŸ“…</text>
                  <text class="meta-text">{{item.date}}</text>
                </view>
                <view class="meta-item">
                  <text class="meta-icon">â°</text>
                  <text class="meta-text">{{item.time}}</text>
                </view>
                <view class="meta-item">
                  <text class="meta-icon">ğŸ“</text>
                  <text class="meta-text">{{item.location}}</text>
                </view>
              </view>
              <view class="activity-footer">
                <view class="participants">
                  <text class="participants-icon">ğŸ‘¥</text>
                  <text class="participants-text">{{item.participants}}äººå‚ä¸</text>
                </view>
                <view class="activity-status {{item.status}}">
                  <text class="status-text">{{item.statusText}}</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- ç‰¹è‰²æ¨è -->
      <view class="featured-section">
        <view class="section-header">
          <text class="section-title">ç‰¹è‰²æ¨è</text>
        </view>
        <view class="featured-list">
          <view class="featured-item" 
                wx:for="{{featuredActivities}}" 
                wx:key="id" 
                bindtap="onActivityTap" 
                data-activity="{{item}}">
            <image class="featured-image" src="{{item.image}}" mode="aspectFill"></image>
            <view class="featured-overlay">
              <text class="featured-title">{{item.title}}</text>
              <text class="featured-desc">{{item.description}}</text>
              <view class="featured-badge">
                <text class="badge-text">{{item.badge}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- ç©ºçŠ¶æ€ -->
      <view class="empty-state" wx:if="{{filteredActivities.length === 0}}">
        <text class="empty-icon">ğŸ“š</text>
        <text class="empty-text">æš‚æ— ç›¸å…³æ´»åŠ¨</text>
        <text class="empty-desc">è¯•è¯•å…¶ä»–åˆ†ç±»</text>
      </view>

    </scroll-view>
  </view>
</view>
