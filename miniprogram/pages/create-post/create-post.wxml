<!--create-post.wxml-->
<view class="page-container">
  <navigation-bar title="发布动态" color="#8B5A3C" background="#F7E6D3"></navigation-bar>
  
  <!-- 主要内容区域 -->
  <view class="main-content">
    <scroll-view class="scroll-container" scroll-y type="list">
      
      <!-- 发帖区域 -->
      <view class="create-post-section">
        
        <!-- 用户信息 -->
        <view class="user-info">
          <image class="user-avatar" src="../../public/img/my-avatar.jpg" mode="aspectFill"></image>
          <text class="user-name">我</text>
        </view>
        
        <!-- 文本输入 -->
        <view class="text-input-section">
          <textarea class="post-textarea" 
                    placeholder="分享你的生活点滴..." 
                    value="{{postText}}"
                    bindinput="onTextInput"
                    maxlength="500"
                    show-confirm-bar="{{false}}"></textarea>
          <view class="text-count">{{postText.length}}/500</view>
        </view>
        
        <!-- 图片上传 -->
        <view class="image-upload-section">
          <view class="upload-title">添加图片</view>
          <view class="image-list">
            <view class="image-item" wx:for="{{images}}" wx:key="*this" wx:for-item="image">
              <image class="uploaded-image" src="{{image}}" mode="aspectFill"></image>
              <view class="delete-btn" bindtap="onDeleteImage" data-image="{{image}}">×</view>
            </view>
            <view class="upload-btn" wx:if="{{images.length < 9}}" bindtap="onChooseImage">
              <text class="upload-icon">📷</text>
              <text class="upload-text">添加图片</text>
            </view>
          </view>
        </view>
        
      </view>
      
    </scroll-view>
    
    <!-- 底部发布按钮 -->
    <view class="publish-bar">
      <button class="publish-btn {{canPublish ? 'active' : 'disabled'}}" 
              bindtap="onPublishPost"
              disabled="{{!canPublish}}">
        发布动态
      </button>
    </view>
    
  </view>
</view>
